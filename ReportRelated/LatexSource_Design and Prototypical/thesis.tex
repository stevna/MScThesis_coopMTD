\documentclass[12pt,a4paper,english,twoside]{book}


\usepackage{bera}% optional: just to have a nice mono-spaced font
\usepackage[version=1.6]{listings}
\usepackage{xcolor}
\usepackage{lineno}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{xpatch}


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}


\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}


\lstset{
  frame=top,frame=bottom,
  linewidth=15.4cm,
  numbers=left,
  basicstyle=\small\normalfont\sffamily,    % the size of the fonts that are used for the code
  stepnumber=1,                           % the step between two line-numbers. If it is 1 each line will be numbered
  numbersep=10pt,                         % how far the line-numbers are from the code
  tabsize=2,                              % tab size in blank spaces
  extendedchars=true,                     %
  breaklines=true,                        
  captionpos=t,                          
  stringstyle=\color{white}\ttfamily, % Farbe der String
  showspaces=false,           % Leerzeichen anzeigen ?
  showtabs=false,             % Tabs anzeigen ?
  xleftmargin=20pt,
  framexleftmargin=20pt,
  framexrightmargin=17pt,
  framexbottommargin=5pt,
  framextopmargin=5pt,
  showstringspaces=false,      % Leerzeichen in Strings anzeigen ?
    backgroundcolor=\color{background},
        literate={\ \ }{{\ }}1,
 }

\DeclareCaptionFormat{listing}{\rule{\dimexpr\textwidth\relax}{0.4pt}\par\vskip1pt#1#2#3}
\captionsetup[lstlisting]{format=listing,singlelinecheck=false, margin=0pt, font={sf},labelsep=space,labelfont=bf}

\renewcommand\lstlistingname{Algorithm}


\lstnewenvironment{sflisting}[1][]
  {\lstset{#1}\mathversion{sans}}{}



%\lstdefinelanguage{json}{
  
%}

%breaklines=true,                 
 %   tabsize=2,literate={\ \ }{{\ }}1,caption={The code block for changing the IP address on the server side from the executeMTDMechanisms() function in pseudocode. Everything related to the port change was ommited here.},captionpos=b,label={lst:Pseudocode sendToDevicesIP.py}, frame=tb]


\lstdefinestyle{mystyle}{    backgroundcolor=\color{backcolour},   commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}



\usepackage[german,english]{babel}
\usepackage[T1]{fontenc} 
\usepackage[utf8]{inputenc}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{amssymb}
\usepackage{epsfig}
\usepackage{moreverb}
\usepackage{rotating}
\usepackage{enumerate}
\usepackage{graphics, graphicx,wrapfig}
\usepackage{fancybox}
\usepackage{picinpar,varioref,floatflt}
\usepackage{ae}
\usepackage{longtable}
\usepackage{textcomp}
\usepackage{float}
\usepackage[acronym]{glossaries}
\usepackage{todonotes}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage[obeyspaces]{url}
\usepackage{lscape}
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
\usepackage[
style=ieee,
]{biblatex}
%\usepackage{assets/unizhdt-BA} %Bachelor Thesis
\usepackage{assets/unizhdt-MA} %Master Thesis   



\addbibresource{assets/refs.bib}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\etal}{\textit{et al}.\ }
\newcommand{\ie}{\textit{i}.\textit{e}.,\ }
\newcommand{\eg}{\textit{e}.\textit{g}.,\ }
\newcommand{\cf}{\textit{c}\textit{f}.,\ }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% Define the language of the diploma thesis
\selectlanguage{english}
%\selectlanguage{german}

\pagestyle{headings}
\newacronym{mtd}{MTD}{Moving Target Defense}

\renewcommand\linenumberfont{\scriptsize}


\xpatchbibdriver{online}
  {\printtext[parens]{\usebibmacro{date}}}
  {\iffieldundef{year}
    {}
    {\printtext[parens]{\usebibmacro{date}}}}
  {}
  {\typeout{There was an error patching biblatex-ieee (specifically, ieee.bbx's @online driver)}}

\usepackage{xurl}


\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Define the author printed on the cover page
\author{Steven Näf}
% Define the city and country of the author
\authorcity{Zurich, Switzerland}
% Define the student ID (Matrikelnummer)
\studentid{15-710-254}
% Define the title with optional subtitle
\title{Design and Implementation of a Cooperative MTD Framework for 
IoT Devices}
% Define the supervisors
\supervisors{Jan von der Assen, Dr. Alberto Huertas Celdrán}
% Define the submission date
\submissiondate{January 29, 2023}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Make the title page
\maketitle

% Make the imprint on the back of the cover page
\makeimprint

\pagenumbering{roman}

% Include the files of the diploma thesis
%\cleardoublepage
\input{chapters/abstract.tex}
%\cleardoublepage
\input{chapters/acknowledgments.tex}

\tableofcontents

\cleardoublepage
\pagenumbering{arabic}
\input{chapters/introduction.tex}
\input{chapters/background.tex}
\input{chapters/relatedwork.tex}
\input{chapters/main.tex}
%\input{.tex}
%\input{.tex}
\input{chapters/evaluation.tex}
\input{chapters/discussion.tex}
\input{chapters/summary.tex}

\printbibliography[heading=bibintoc, title={Bibliography}]

\input{chapters/abbreviations.tex}
\input{chapters/glossary.tex}

\addcontentsline{toc}{chapter}{List of Figures}
\listoffigures
\addcontentsline{toc}{chapter}{List of Tables}
\listoftables

\input{chapters/appendix.tex}



\end{document}
